{%- assign ss = section.settings -%}
{%- if section.settings.enable_bar -%}
  <section class="announcementBar__wrapper" data-section-id="{{ section.id }}" data-section-type="annoncement-bar">
    <link rel="stylesheet" href="{{- 'annoncement-bar.css' | asset_url -}}" async>
    {%- if ss.text -%}
      <div class="announcementBar__content">
        {%- if ss.icon -%}
          <div class="announcementBar__icon">{{- ss.icon -}}</div>
        {%- endif -%}
        {%- if ss.text -%}
          <div class="announcementBar__title">{{- ss.text -}}</div>
        {%- endif -%}
      </div>
      {%- if ss.link and ss.link_text -%}
        <div class="announcementBar__linkContent">
          <a class="announcementBar__link" href="{{- ss.link -}}">
            {{- ss.link_text -}}
          </a>
        </div>
      {%- endif -%}
    {%- endif -%}
  </section>
  {%- style -%}
    .announcementBar {
      background: {{ ss.background }};
    }
  {%- endstyle -%}
{%- endif -%}

{% schema %}
{
  "name": "Announcement bar",
  "class": "announcementBar",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_bar",
      "label": "Enable bar",
      "default": true
    },
    {
      "type": "color",
      "id": "background",
      "label": "Background color",
      "default": "#fff"
    },
    {
      "type": "html",
      "id": "icon",
      "label": "Icon",
      "info": "Use this field for paste svg icon"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Announcement text"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "text",
      "id": "link_text",
      "label": "Link text"
    }
  ]
}
{% endschema %}